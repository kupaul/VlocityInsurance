/*! Built with http://stenciljs.com */
const{h:e}=window.VlocityTemplateEditor;class s{constructor(){this.template={},this.isTemplateLocked=!1,this.templateDefinition={zones:[],placeholders:[]}}show(){this.infoElement.classList.add("slds-show"),this.infoElement.classList.remove("slds-hide")}hide(){this.infoElement.classList.remove("slds-show"),this.infoElement.classList.add("slds-hide")}isReadOnly(e){this.isTemplateLocked=e}changeInTemplateInfoHandler(e){this.templateDefinition=[],this.template[this.nsPrefix+"Definition__c"]&&(this.templateDefinition=JSON.parse(this.template[this.nsPrefix+"Definition__c"])),this.changeInTemplateInfo.emit(e)}watchHandler(e,s){console.log("watch triggered"),JSON.stringify(e)!==JSON.stringify(s)&&this.changeInTemplateInfoHandler(e)}addFieldToDefinition(e){this.templateDefinition[e]=this.templateDefinition[e]?this.templateDefinition[e]:[],this.templateDefinition[e].push({name:"",label:""}),this.templateDefinition=Object.assign({},this.templateDefinition,{[e]:this.templateDefinition[e]})}changeValue(e,s){const t=e.target;this.template=Object.assign({},this.template,{[s]:t.value}),console.log("template "+s+" change ",this.template)}changeZoneValue(e,s,t){const l=e.target;this.templateDefinition.zones[s][t]=l.value,this.template=Object.assign({},this.template,{[this.nsPrefix+"Definition__c"]:JSON.stringify(this.templateDefinition)})}changePlaceholderValue(e,s,t){const l=e.target;this.templateDefinition.placeholders[s][t]=l.value,this.template=Object.assign({},this.template,{[this.nsPrefix+"Definition__c"]:JSON.stringify(this.templateDefinition)})}deleteFieldInDefinition(e,s){this.templateDefinition[e].splice(s,1),this.templateDefinition=Object.assign({},this.templateDefinition,{[e]:this.templateDefinition[e]}),this.template=Object.assign({},this.template,{[this.nsPrefix+"Definition__c"]:JSON.stringify(this.templateDefinition)})}componentWillLoad(){this.template[this.nsPrefix+"Definition__c"]&&(this.templateDefinition=JSON.parse(this.template[this.nsPrefix+"Definition__c"]))}componentDidLoad(){}componentDidUnload(){}componentWillUpdate(){}componentDidUpdate(){}render(){return e("div",{class:"slds-col slds-p-around_medium template-info slds-scrollable"},e("div",{class:"slds-col"},e("div",{class:"slds-no-space slds-has-divider_bottom-space slds-media_center"},e("h2",{class:"slds-text-heading_medium"},"Template")),e("div",{class:"slds-grid slds-wrap slds-p-around_medium"},e("div",{class:"slds-col slds-size_5-of-12"},e("div",{class:"slds-form-element slds-p-right_small"},e("label",{class:"slds-form-element__label slds-text-body_regular slds-p-bottom_xx-small"},"Template Name"),e("div",{class:"slds-form-element__control"},e("input",{type:"text",id:"template-name",disabled:!0,onChange:e=>this.changeValue(e,"Name"),value:this.template.Name,class:"slds-input",placeholder:"Template Name"})))),e("div",{class:"slds-col slds-size_4-of-12"},e("div",{class:"slds-form-element slds-p-right_small"},e("label",{class:"slds-form-element__label slds-text-body_regular slds-p-bottom_xx-small"},"Template Origin"),e("div",{class:"slds-form-element__control"},e("input",{type:"text",id:"template-origin",disabled:!0,onChange:e=>this.changeValue(e,this.nsPrefix+"Author__c"),value:this.template[this.nsPrefix+"Author__c"],class:"slds-input",placeholder:"Template Origin"})))),e("div",{class:"slds-col slds-size_3-of-12"},e("div",{class:"slds-form-element slds-p-right_small"},e("label",{class:"slds-form-element__label slds-text-body_regular slds-p-bottom_xx-small"},"Template Type"),e("div",{class:"slds-form-element__control"},e("input",{type:"text",id:"template-author",disabled:!0,value:this.template[this.nsPrefix+"Type__c"],class:"slds-input",placeholder:"Template Type"})))),e("div",{class:"slds-col slds-size_6-of-12 slds-p-top_small"},e("div",{class:"slds-form-element slds-p-right_small"},e("label",{class:"slds-form-element__label slds-text-body_regular slds-p-bottom_xx-small"},"Description"),e("div",{class:"slds-form-element__control"},e("textarea",{disabled:this.isTemplateLocked,rows:6,id:"template-description",onInput:e=>this.changeValue(e,this.nsPrefix+"Description__c"),value:this.template[this.nsPrefix+"Description__c"],class:"slds-textarea",placeholder:"Template Description"})))),e("div",{class:"slds-col slds-size_6-of-12 slds-p-top_small"},e("div",{class:"slds-form-element slds-p-right_small"},e("label",{class:"slds-form-element__label slds-text-body_regular slds-p-bottom_xx-small"},"Sample"),e("div",{class:"slds-form-element__control"},e("textarea",{disabled:this.isTemplateLocked,rows:6,id:"template-sample",onInput:e=>this.changeValue(e,this.nsPrefix+"SampleJson__c"),value:this.template[this.nsPrefix+"SampleJson__c"],class:"slds-textarea",placeholder:"Template Sample"}))))),e("div",{class:"slds-grid slds-wrap"},e("div",{class:"slds-size_6-of-12"},e("div",{class:"slds-no-space slds-has-divider_bottom-space slds-media_center"},e("h2",{class:"slds-text-heading_small"},"Zones")),e("div",{class:"slds-p-around_medium"},this.templateDefinition.zones&&this.templateDefinition.zones.length>0?e("div",{class:"slds-grid slds-wrap slds-p-bottom_small"},e("div",{class:"slds-size_5-of-12"},"Name"),e("div",{class:"slds-size_5-of-12"},"Label")):"",this.templateDefinition.zones&&this.templateDefinition.zones.map((s,t)=>e("div",{class:"slds-grid slds-wrap slds-p-bottom_x-small"},e("div",{class:"slds-size_5-of-12 slds-p-right_x-small"},e("input",{disabled:this.isTemplateLocked,type:"text",value:s.name,onInput:e=>this.changeZoneValue(e,t,"name"),class:"slds-input",placeholder:"Zone Name"})),e("div",{class:"slds-size_5-of-12 slds-p-right_x-small"},e("input",{disabled:this.isTemplateLocked,type:"text",value:s.label,onInput:e=>this.changeZoneValue(e,t,"label"),class:"slds-input",placeholder:"Zone Label"})),e("div",{class:"slds-size_2-of-12 slds-p-right_x-small"},e("button",{disabled:this.isTemplateLocked,onClick:()=>this.deleteFieldInDefinition("zones",t),class:"slds-button slds-button_destructive"},"Delete")))),e("button",{disabled:this.isTemplateLocked,onClick:()=>this.addFieldToDefinition("zones"),class:"slds-button slds-button_brand"},"Add Zone"))),e("div",{class:"slds-size_6-of-12"},e("div",{class:"slds-no-space slds-has-divider_bottom-space slds-media_center"},e("h2",{class:"slds-text-heading_small"},"Placeholders")),e("div",{class:"slds-p-around_medium"},this.templateDefinition.placeholders&&this.templateDefinition.placeholders.length>0?e("div",{class:"slds-grid slds-wrap slds-p-bottom_small"},e("div",{class:"slds-size_6-of-12"},"Name"),e("div",{class:"slds-size_6-of-12"},"Label")):"",this.templateDefinition.placeholders&&this.templateDefinition.placeholders.map((s,t)=>e("div",{class:"slds-grid slds-wrap slds-p-bottom_x-small"},e("div",{class:"slds-size_5-of-12 slds-p-right_x-small"},e("input",{disabled:this.isTemplateLocked,type:"text",value:s.name,onInput:e=>this.changePlaceholderValue(e,t,"name"),class:"slds-input",placeholder:"Placeholder Name"})),e("div",{class:"slds-size_5-of-12 slds-p-right_x-small"},e("input",{disabled:this.isTemplateLocked,type:"text",value:s.label,onInput:e=>this.changePlaceholderValue(e,t,"label"),class:"slds-input",placeholder:"Placeholder Label"})),e("div",{class:"slds-size_2-of-12 slds-p-right_x-small"},e("button",{disabled:this.isTemplateLocked,onClick:()=>this.deleteFieldInDefinition("placeholders",t),class:"slds-button slds-button_destructive"},"Delete")))),e("button",{disabled:this.isTemplateLocked,onClick:()=>this.addFieldToDefinition("placeholders"),class:"slds-button slds-button_brand"},"Add Placeholder"))))))}static get is(){return"vlocity-template-info"}static get properties(){return{hide:{method:!0},infoElement:{elementRef:!0},isReadOnly:{method:!0},isTemplateLocked:{state:!0},nsPrefix:{type:String,attr:"ns-prefix"},show:{method:!0},template:{type:"Any",attr:"template",mutable:!0,watchCallbacks:["watchHandler"]},templateDefinition:{state:!0},type:{type:String,attr:"type"}}}static get events(){return[{name:"changeInTemplateInfo",method:"changeInTemplateInfo",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return".template-info{height:calc(100vh - 160px)}"}}export{s as VlocityTemplateInfo};