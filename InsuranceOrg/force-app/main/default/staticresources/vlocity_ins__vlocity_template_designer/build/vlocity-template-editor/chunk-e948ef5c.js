/*! Built with http://stenciljs.com */
const{h:t}=window.VlocityTemplateEditor;var e,n=(function(t){!function(e,n,r){if(e){for(var o,i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},a={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},s={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l=1;l<20;++l)i[111+l]="f"+l;for(l=0;l<=9;++l)i[l+96]=l.toString();y.prototype.bind=function(t,e,n){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,n),this},y.prototype.unbind=function(t,e){return this.bind.call(this,t,function(){},e)},y.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},y.prototype.reset=function(){return this._callbacks={},this._directMap={},this},y.prototype.stopCallback=function(t,e){return!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&!function t(e,r){return null!==e&&e!==n&&(e===r||t(e.parentNode,r))}(e,this.target)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable)},y.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},y.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);o=null},y.init=function(){var t=y(n);for(var e in t)"_"!==e.charAt(0)&&(y[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},y.init(),e.Mousetrap=y,t.exports&&(t.exports=y)}function u(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function p(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return i[t.which]?i[t.which]:a[t.which]?a[t.which]:String.fromCharCode(t.which).toLowerCase()}function f(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function h(t,e){var n,r,a,l=[];for(n=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),a=0;a<n.length;++a)r=n[a],s[r]&&(r=s[r]),e&&"keypress"!=e&&c[r]&&(r=c[r],l.push("shift")),f(r)&&l.push(r);return{key:r,modifiers:l,action:e=function(t,e,n){return n||(n=function(){if(!o)for(var t in o={},i)t>95&&t<112||i.hasOwnProperty(t)&&(o[i[t]]=t);return o}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}(r,l,e)}}function y(t){var e=this;if(t=t||n,!(e instanceof y))return new y(t);e.target=t,e._callbacks={},e._directMap={};var r,o={},i=!1,a=!1,c=!1;function s(t){t=t||{};var e,n=!1;for(e in o)t[e]?n=!0:o[e]=0;n||(c=!1)}function l(t,n,r,i,a,c){var s,l,u,p,h=[],y=r.type;if(!e._callbacks[t])return[];for("keyup"==y&&f(t)&&(n=[t]),s=0;s<e._callbacks[t].length;++s)if(l=e._callbacks[t][s],(i||!l.seq||o[l.seq]==l.level)&&y==l.action&&("keypress"==y&&!r.metaKey&&!r.ctrlKey||(u=n,p=l.modifiers,u.sort().join(",")===p.sort().join(",")))){var d=!i&&l.combo==a,k=i&&l.seq==i&&l.level==c;(d||k)&&e._callbacks[t].splice(s,1),h.push(l)}return h}function d(t,n,r,o){e.stopCallback(n,n.target||n.srcElement,r,o)||!1===t(n,r)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function k(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n=p(t);n&&("keyup"!=t.type||i!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):i=!1)}function b(t,n,a,u,f){e._directMap[t+":"+a]=n;var y,k=(t=t.replace(/\s+/g," ")).split(" ");k.length>1?function(t,e,n,a){function l(e){return function(){c=e,++o[t],clearTimeout(r),r=setTimeout(s,1e3)}}function u(e){d(n,e,t),"keyup"!==a&&(i=p(e)),setTimeout(s,10)}o[t]=0;for(var f=0;f<e.length;++f){var y=f+1===e.length?u:l(a||h(e[f+1]).action);b(e[f],y,a,t,f)}}(t,k,n,a):(y=h(t,a),e._callbacks[y.key]=e._callbacks[y.key]||[],l(y.key,y.modifiers,{type:y.action},u,t,f),e._callbacks[y.key][u?"unshift":"push"]({callback:n,modifiers:y.modifiers,action:y.action,seq:u,level:f,combo:t}))}e._handleKey=function(t,e,n){var r,o=l(t,e,n),i={},u=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(u=Math.max(u,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=u)continue;p=!0,i[o[r].seq]=1,d(o[r].callback,n,o[r].combo,o[r].seq)}else p||d(o[r].callback,n,o[r].combo);var h="keypress"==n.type&&a;n.type!=c||f(t)||h||s(i),a=p&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)b(t[r],e,n)},u(t,"keypress",k),u(t,"keydown",k),u(t,"keyup",k)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)}(e={exports:{}}),e.exports);class r{constructor(){var t,e,r;e={},r=(t=n).prototype.stopCallback,t.prototype.stopCallback=function(t,n,o,i){return!!this.paused||!e[o]&&!e[i]&&r.call(this,t,n,o)},t.prototype.bindGlobal=function(t,n,r){if(this.bind(t,n,r),t instanceof Array)for(var o=0;o<t.length;o++)e[t[o]]=!0;else e[t]=!0},t.init()}bindGlobal(t,e,r,...o){n.bindGlobal(t,function(){return e.apply(r,o),!1})}}export{r as a};