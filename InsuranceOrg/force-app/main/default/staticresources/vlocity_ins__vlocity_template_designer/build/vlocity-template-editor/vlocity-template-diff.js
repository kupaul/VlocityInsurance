/*! Built with http://stenciljs.com */
const{h:t}=window.VlocityTemplateEditor;class i{constructor(){this.visible=!0,this.isMonaco=!1,this.editorOptions={theme:"vs-dark",readOnly:!1,wordWrap:"on",automaticLayout:!0},this.contentType=[],this.position=0,this.originalModal=void 0,this.diffModal=void 0,this.contentType[""]="text/plain",this.contentType.html="text/html",this.contentType.scss="text/scss",this.contentType.javascript="text/javascript"}show(){this.diffElement.classList.add("slds-show"),this.diffElement.classList.remove("slds-hide")}hide(){this.diffElement.classList.remove("slds-show"),this.diffElement.classList.add("slds-hide")}getEditor(){return monaco.editor}isReadOnly(t){this.diffEditor&&this.diffEditor.updateOptions({readOnly:t})}componentDidLoad(){const t=this;require(["vs/editor/editor.main"],()=>{t.isMonaco=!0,this.originalModal=this.originalModal?this.originalModal:monaco.editor.createModel(this.original,this.contentType[this.type]),this.originalModal.id="original"+this.type,this.diffModal=this.diffModal?this.diffModal:monaco.editor.createModel(this.latest,this.contentType[this.type]),this.diffModal.id="diff"+this.type,t.diffEditor=monaco.editor.createDiffEditor(t.diffElement,t.editorOptions),t.diffEditor.setModel({original:this.originalModal,modified:this.diffModal}),t.diffModal.onDidChangeContent(i=>{t.diffEditor.isFocused()&&!i.isFlush&&t.editorContentChanged.emit()}),monaco.editor.onDidCreateEditor(()=>{t.onEditorCreated.emit()})})}componentWillUpdate(){this.position=this.diffEditor?this.diffEditor.getPosition():null,this.isMonaco&&(this.originalModal.setValue(this.original),this.diffModal.setValue(this.latest),this.diffEditor.setPosition(this.position))}render(){return""}static get is(){return"vlocity-template-diff"}static get properties(){return{diffElement:{elementRef:!0},editor:{state:!0},getEditor:{method:!0},hide:{method:!0},isReadOnly:{method:!0},latest:{type:String,attr:"latest"},original:{type:String,attr:"original"},show:{method:!0},type:{type:String,attr:"type"},visible:{state:!0}}}static get events(){return[{name:"editorContentChanged",method:"editorContentChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"onEditorCreated",method:"onEditorCreated",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return".monaco-diff-editor{position:relative;height:100vh!important;width:100%!important}"}}export{i as VlocityTemplateDiff};